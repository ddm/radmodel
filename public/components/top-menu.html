<link rel="import" href="../lib/polymer/polymer.html">
<link rel="import" href="../lib/iron-ajax/iron-ajax.html">

<dom-module id="top-menu">
    <template>
        <iron-ajax
            auto
            url="[[config]]"
            handle-as="json"
            last-response="{{menu}}"></iron-ajax>
        <nav class="navbar navbar-inverse navbar-fixed-top">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button
                        type="button"
                        class="navbar-toggle collapsed"
                        data-toggle="collapse"
                        data-target="#navbar"
                        aria-expanded="false"
                        aria-controls="navbar">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="#">
                        <span
                            class="glyphicon glyphicon-home"
                            aria-hidden="true"></span>
                    </a>
                </div>
                <div
                    id="navbar"
                    class="navbar-collapse collapse">
                    <ul class="nav navbar-nav navbar-right">
                        <template
                            is="dom-repeat"
                            items="[[menu.items]]">
                            <li><a href="#[[item.action]]">[[item.display]]</a></li>
                        </template>
                    </ul>
                </div>
            </div>
        </nav>
    </template>
</dom-module>

<script>
    Polymer({
                is: "top-menu",
                properties: {
                    config: {
                        type: String,
                        readOnly: true
                    },
                    menu: {
                        type: Object,
                        readonly: true
                    }
                }
            });
</script>
